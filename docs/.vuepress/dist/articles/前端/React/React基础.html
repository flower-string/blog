<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React基础 | CHAO BLOG</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="this is a blog build by vuepress">
    
    <link rel="preload" href="/assets/css/0.styles.d3d7476b.css" as="style"><link rel="preload" href="/assets/js/app.f97d11e0.js" as="script"><link rel="preload" href="/assets/js/2.c4a55d75.js" as="script"><link rel="preload" href="/assets/js/9.dc91dd0d.js" as="script"><link rel="prefetch" href="/assets/js/10.cd830b02.js"><link rel="prefetch" href="/assets/js/11.7c4cbfc9.js"><link rel="prefetch" href="/assets/js/12.2fc5ef62.js"><link rel="prefetch" href="/assets/js/13.35b2e41a.js"><link rel="prefetch" href="/assets/js/14.15d3b615.js"><link rel="prefetch" href="/assets/js/15.3b004cd7.js"><link rel="prefetch" href="/assets/js/16.ef0b6eaf.js"><link rel="prefetch" href="/assets/js/17.516ad126.js"><link rel="prefetch" href="/assets/js/18.a14128ad.js"><link rel="prefetch" href="/assets/js/19.48135194.js"><link rel="prefetch" href="/assets/js/20.f53e3b63.js"><link rel="prefetch" href="/assets/js/21.ec6e36d2.js"><link rel="prefetch" href="/assets/js/22.e7715ba2.js"><link rel="prefetch" href="/assets/js/23.e0693374.js"><link rel="prefetch" href="/assets/js/24.a36116e9.js"><link rel="prefetch" href="/assets/js/25.634dca41.js"><link rel="prefetch" href="/assets/js/26.b9622f5c.js"><link rel="prefetch" href="/assets/js/27.eb49a96a.js"><link rel="prefetch" href="/assets/js/28.84d60169.js"><link rel="prefetch" href="/assets/js/29.53bf131a.js"><link rel="prefetch" href="/assets/js/3.0ec01e5e.js"><link rel="prefetch" href="/assets/js/30.1331a972.js"><link rel="prefetch" href="/assets/js/31.ac0a72dd.js"><link rel="prefetch" href="/assets/js/4.2176f0d8.js"><link rel="prefetch" href="/assets/js/5.91c18d5d.js"><link rel="prefetch" href="/assets/js/6.537e369f.js"><link rel="prefetch" href="/assets/js/7.426639d5.js"><link rel="prefetch" href="/assets/js/8.32bf23b4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d3d7476b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">CHAO BLOG</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文章分类" class="dropdown-title"><span class="title">文章</span> <span class="arrow down"></span></button> <button type="button" aria-label="文章分类" class="mobile-dropdown-title"><span class="title">文章</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          前端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/articles/前端/css/" class="nav-link">
  css
</a></li><li class="dropdown-subitem"><a href="/articles/前端/js/" class="nav-link">
  js
</a></li><li class="dropdown-subitem"><a href="/articles/前端/Vue/" class="nav-link">
  vue
</a></li><li class="dropdown-subitem"><a href="/articles/前端/React/" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/articles/前端/library/" class="nav-link">
  工具库
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/articles/设计/" class="nav-link">
  设计
</a></li><li class="dropdown-item"><!----> <a href="/articles/后端/" class="nav-link">
  后端
</a></li><li class="dropdown-item"><!----> <a href="/articles/编程通用/" class="nav-link">
  编程通用
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文章分类" class="dropdown-title"><span class="title">文章</span> <span class="arrow down"></span></button> <button type="button" aria-label="文章分类" class="mobile-dropdown-title"><span class="title">文章</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          前端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/articles/前端/css/" class="nav-link">
  css
</a></li><li class="dropdown-subitem"><a href="/articles/前端/js/" class="nav-link">
  js
</a></li><li class="dropdown-subitem"><a href="/articles/前端/Vue/" class="nav-link">
  vue
</a></li><li class="dropdown-subitem"><a href="/articles/前端/React/" class="nav-link">
  React
</a></li><li class="dropdown-subitem"><a href="/articles/前端/library/" class="nav-link">
  工具库
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/articles/设计/" class="nav-link">
  设计
</a></li><li class="dropdown-item"><!----> <a href="/articles/后端/" class="nav-link">
  后端
</a></li><li class="dropdown-item"><!----> <a href="/articles/编程通用/" class="nav-link">
  编程通用
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/articles/前端/React/React基础.html" class="active sidebar-link">React基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/articles/前端/React/React基础.html#概述" class="sidebar-link">概述</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/articles/前端/React/React基础.html#概念" class="sidebar-link">概念</a></li><li class="sidebar-sub-header"><a href="/articles/前端/React/React基础.html#特点" class="sidebar-link">特点</a></li><li class="sidebar-sub-header"><a href="/articles/前端/React/React基础.html#基本使用" class="sidebar-link">基本使用</a></li><li class="sidebar-sub-header"><a href="/articles/前端/React/React基础.html#脚手架" class="sidebar-link">脚手架</a></li></ul></li><li class="sidebar-sub-header"><a href="/articles/前端/React/React基础.html#jsx" class="sidebar-link">jsx</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/articles/前端/React/React基础.html#概念-2" class="sidebar-link">概念</a></li><li class="sidebar-sub-header"><a href="/articles/前端/React/React基础.html#jsx-的注意点" class="sidebar-link">jsx 的注意点</a></li><li class="sidebar-sub-header"><a href="/articles/前端/React/React基础.html#在jsx中使用js" class="sidebar-link">在jsx中使用js</a></li><li class="sidebar-sub-header"><a href="/articles/前端/React/React基础.html#条件渲染" class="sidebar-link">条件渲染</a></li><li class="sidebar-sub-header"><a href="/articles/前端/React/React基础.html#列表渲染" class="sidebar-link">列表渲染</a></li><li class="sidebar-sub-header"><a href="/articles/前端/React/React基础.html#样式绑定" class="sidebar-link">样式绑定</a></li></ul></li><li class="sidebar-sub-header"><a href="/articles/前端/React/React基础.html#组件基础" class="sidebar-link">组件基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/articles/前端/React/React基础.html#组件类型" class="sidebar-link">组件类型</a></li><li class="sidebar-sub-header"><a href="/articles/前端/React/React基础.html#事件处理" class="sidebar-link">事件处理</a></li><li class="sidebar-sub-header"><a href="/articles/前端/React/React基础.html#状态" class="sidebar-link">状态</a></li><li class="sidebar-sub-header"><a href="/articles/前端/React/React基础.html#表单" class="sidebar-link">表单</a></li></ul></li></ul></li><li><a href="/articles/前端/React/React简单原理.html" class="sidebar-link">React简单原理</a></li><li><a href="/articles/前端/React/React路由.html" class="sidebar-link">React路由</a></li><li><a href="/articles/前端/React/React组件.html" class="sidebar-link">React组件</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="概述"><a href="#概述" class="header-anchor">#</a> 概述</h2> <h3 id="概念"><a href="#概念" class="header-anchor">#</a> 概念</h3> <blockquote><p>react是一个js库，与vue齐名。
vue重心在增强了html，react重心在增强的js。
react的语法更贴近js，所以需要学好js才能学好react。
在这里先开个头，之后去系统学习js。</p></blockquote> <h3 id="特点"><a href="#特点" class="header-anchor">#</a> 特点</h3> <ul><li>与vue一样，react是基于组件的（倒不如说是vue学习react）。</li> <li>react也是声明式编程。</li> <li>react的核心可以多出运用。</li></ul> <h3 id="基本使用"><a href="#基本使用" class="header-anchor">#</a> 基本使用</h3> <ol><li>使用npm下载react<strong>核心包</strong>和<strong>DOM包</strong>。</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> i react react-dom
</code></pre></div><ol start="2"><li>在html中引入这两个包。</li> <li>使用 <strong>React.createElement()</strong> 创建react元素</li></ol> <blockquote><p>这个函数接受3个及以上参数,返回一个react元素.</p> <ul><li>第一个参数是要创建的标签名。</li> <li>第二个参数是标签的属性。</li> <li>第三个及以后的参数是元素的子节点。</li></ul></blockquote> <ol start="4"><li>使用<strong>ReactDOM.createroot()</strong> 创建根节点</li></ol> <blockquote><p>这个函数接受一个DOM元素,将其转化为一个React元素并返回。</p></blockquote> <ol start="5"><li>通过root的React元素调用<strong>render</strong> 函数来渲染第三步创建出的元素。</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> title <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>
          <span class="token string">'h1'</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span><span class="token literal-property property">title</span> <span class="token operator">:</span> <span class="token string">'h1'</span> <span class="token punctuation">,</span> <span class="token literal-property property">id</span> <span class="token operator">:</span> <span class="token string">'hello'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> 
          <span class="token string">&quot;hello react!!!&quot;</span><span class="token punctuation">,</span>
          React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'span'</span> <span class="token punctuation">,</span> <span class="token keyword">null</span> <span class="token punctuation">,</span> <span class="token string">'我是span'</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> root <span class="token operator">=</span> ReactDOM<span class="token punctuation">.</span><span class="token function">createRoot</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
root<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="脚手架"><a href="#脚手架" class="header-anchor">#</a> 脚手架</h3> <h4 id="指令"><a href="#指令" class="header-anchor">#</a> 指令</h4> <p>通过指令来创建react项目，与vue不同，完全没有配置的余地，倒是也省事。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npx create<span class="token operator">-</span>react<span class="token operator">-</span>app <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>
</code></pre></div><h4 id="npx"><a href="#npx" class="header-anchor">#</a> npx</h4> <p><strong>npx</strong>是npm下的一个包，高版本的node会直接内置。
npx可以在不安装脚手架的情况下使用脚手架。</p> <h2 id="jsx"><a href="#jsx" class="header-anchor">#</a> jsx</h2> <h3 id="概念-2"><a href="#概念-2" class="header-anchor">#</a> 概念</h3> <p>jsx全称JavaScript XML，是react提出的js增强语法，也提出了jsx的文件类型，可以直接在js文件中书写jsx代码。
在脚手架中配置有babel，而babel中有jsx的处理程序，所以可以放心使用。
jsx可以更加清楚地描述页面的结构，看起来就像html代码一样。</p> <h3 id="jsx-的注意点"><a href="#jsx-的注意点" class="header-anchor">#</a> jsx 的注意点</h3> <ol><li><p>react元素采用驼峰命名法。</p></li> <li><p>react元素的一些属性名与html元素不同</p> <blockquote><ul><li>class  -&gt; 	className</li> <li>for   -&gt;		htmlFor</li> <li>tabindex -&gt;  tabIndex</li></ul></blockquote></li> <li><p>react元素如果没有子节点可以写成单标签</p></li> <li><p>推荐使用小括号来包裹jsx的标签</p></li></ol> <h3 id="在jsx中使用js"><a href="#在jsx中使用js" class="header-anchor">#</a> 在jsx中使用js</h3> <p>不像vue中有各种各样的指令，react只有一种<strong>插值表达式</strong>。
与vue 的插值表达式基本相同，但是它是一对大括号而不是两对。</p> <p>jsx的使用有一些注意点：</p> <ul><li>不能出现控制语句</li> <li>不能书写对象</li> <li>jsx本身也是js表达式</li></ul> <h3 id="条件渲染"><a href="#条件渲染" class="header-anchor">#</a> 条件渲染</h3> <p>jsx的条件渲染有多种方式，但都是通过原生js</p> <h4 id="if-else语句"><a href="#if-else语句" class="header-anchor">#</a> if-else语句</h4> <p>通过控制条件来返回不同的jsx块</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">dogAreYou</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>我是neko 的 狗<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>拿来的野猫呀<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="三元表达式"><a href="#三元表达式" class="header-anchor">#</a> 三元表达式</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> is <span class="token operator">=</span> flag <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>我是neko 的 狗<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>拿来的野猫呀<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="与运算符"><a href="#与运算符" class="header-anchor">#</a> 与运算符</h4> <p>与运算符利用的是短路，与上面两种不太一样，他只能控制一个块是否渲染。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>flag <span class="token operator">&amp;&amp;</span> <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>我是neko 的 狗<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="列表渲染"><a href="#列表渲染" class="header-anchor">#</a> 列表渲染</h3> <h4 id="map"><a href="#map" class="header-anchor">#</a> map</h4> <p>react要求使用<strong>map</strong>来遍历数组实现列表渲染。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> girls <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'neko'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'蜜莓'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'砂糖'</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>girls<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span> <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
<span class="token punctuation">)</span>
</code></pre></div><h4 id="key"><a href="#key" class="header-anchor">#</a> key</h4> <p>在上面的代码中我给每个<strong>li</strong>都绑定了<strong>key</strong>值。
原因和注意点与vue中相同，与<strong>diff算法</strong>有关。</p> <h3 id="样式绑定"><a href="#样式绑定" class="header-anchor">#</a> 样式绑定</h3> <h4 id="行内样式"><a href="#行内样式" class="header-anchor">#</a> 行内样式</h4> <p>简单写一下，行内的样式要用大驼峰。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>girls<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span> style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
      <span class="token literal-property property">backgroundColor</span> <span class="token operator">:</span> <span class="token string">'pink'</span><span class="token punctuation">,</span> 
      <span class="token literal-property property">listStyle</span> <span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
      <span class="token operator">&gt;</span> 
      <span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span> 
      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
<span class="token punctuation">)</span>
</code></pre></div><p>这么写挺乱的，可以把样式单独提出来。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> listStyle <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">backgroundColor</span> <span class="token operator">:</span> <span class="token string">'pink'</span> <span class="token punctuation">,</span> <span class="token literal-property property">listStyle</span> <span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>girls<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span> style<span class="token operator">=</span><span class="token punctuation">{</span>listStyle<span class="token punctuation">}</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span> <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
<span class="token punctuation">)</span>
</code></pre></div><h4 id="类名绑定"><a href="#类名绑定" class="header-anchor">#</a> 类名绑定</h4> <p>通过为元素绑定类名，然后引入单独的css文件。</p> <blockquote><p>虽然说推荐这种写法，但目前我更喜欢上面这种，一个文件能解决的问题为什么要再加一个独立的文件，管理起来不麻烦吗？？？？</p></blockquote> <h2 id="组件基础"><a href="#组件基础" class="header-anchor">#</a> 组件基础</h2> <p>开头就说了，组件是react最重要的部分。
跟vue的组件思想一样，但vue开创了单独的vue文件，react则是通过<strong>函数</strong>和<strong>类</strong>，实现了<strong>组件</strong>。</p> <h3 id="组件类型"><a href="#组件类型" class="header-anchor">#</a> 组件类型</h3> <h4 id="函数组件"><a href="#函数组件" class="header-anchor">#</a> 函数组件</h4> <p>函数组件就是用函数的方式来写。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function-variable function">Click</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;点到了&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>say<span class="token punctuation">}</span><span class="token operator">&gt;</span>点我<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>函数组件</strong>的<strong>约定</strong>：（必须遵守）</p> <ul><li>函数名必须以大写字母开头。</li> <li>函数必须有返回值，表示组件结构。</li> <li>可以返回null表示不渲染内容。</li></ul> <h4 id="类组件"><a href="#类组件" class="header-anchor">#</a> 类组件</h4> <p>通过js的类来实现组件
写法如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Click</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;点到了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>say<span class="token punctuation">}</span><span class="token operator">&gt;</span>点我<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>类组件</strong>的约定：</p> <ul><li>类名必须大写字母开头</li> <li>类组件应该继承react组件父类</li> <li>类组件必须提供render方法</li> <li>render方法必须有返回值</li></ul> <h4 id="独立组件文件"><a href="#独立组件文件" class="header-anchor">#</a> 独立组件文件</h4> <p>讲组件单独抽离到一个文件中可以实现复用。
按照下面的步骤定义组件文件。</p> <blockquote><ol><li>引入react</li> <li>定义组件</li> <li>导出组件</li></ol></blockquote> <h3 id="事件处理"><a href="#事件处理" class="header-anchor">#</a> 事件处理</h3> <h4 id="事件绑定"><a href="#事件绑定" class="header-anchor">#</a> 事件绑定</h4> <p>与原生js 的事件绑定方法相同。
只不过事件名都前缀on并且改为大驼峰命名法。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>say<span class="token punctuation">}</span><span class="token operator">&gt;</span>点我<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="事件对象"><a href="#事件对象" class="header-anchor">#</a> 事件对象</h4> <p>与原生的js相同，在事件函数定义是接受的参数就是事件对象。
不同的是react做了处理，变为<strong>合成事件对象</strong>，不用再考虑浏览器的兼容问题。</p> <h3 id="状态"><a href="#状态" class="header-anchor">#</a> 状态</h3> <h4 id="概念-3"><a href="#概念-3" class="header-anchor">#</a> 概念</h4> <p>状态就是组件的数据，跟vue中的data一样。</p> <p>只有类组件有状态，因此叫做<strong>状态组件</strong>，函数组件又被称为<strong>无状态组件</strong>。</p> <p>所有函数组件和类组件的作用有所不同，函数组件定义死的页面，类组件用来定义需要更新的组件。</p> <h4 id="state"><a href="#state" class="header-anchor">#</a> state</h4> <p>react中的<strong>state</strong>  就是 vue中的data。
初始化state要依靠类中的<strong>constructor构造器函数</strong>。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">number</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>也可以使用简写，将state抽出来，不影响构造器函数使用</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>tate <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">number</span><span class="token operator">:</span> <span class="token number">10</span>
  <span class="token punctuation">}</span>
<span class="token comment">// constructor 不写也没问题</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>要获取state中的值使用<strong>this.state</strong> 的方式</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>当前数字：<span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>number<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
</code></pre></div><p>要修改state中的值，使用setState函数，不能直接修改（突然觉得vue好方便）。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">number</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>number <span class="token operator">+</span> <span class="token number">1</span>   
      <span class="token comment">//setState接受一个对象，然后将他和原来的state合并。 </span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="setstate分离"><a href="#setstate分离" class="header-anchor">#</a> setState分离</h4> <p>setState的分离进单独的函数之后会出现<strong>this</strong>的指向问题，有三种解决方案。</p> <ol><li>嵌套箭头函数</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>add<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</code></pre></div><ol start="2"><li>bind</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>add <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>定义箭头函数</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// console.log('事件处理程序中的this',this);</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">number</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>number <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="表单"><a href="#表单" class="header-anchor">#</a> 表单</h3> <p>将表单中的value值和state中的数据绑定，
表单值受到react控制的表单组件称为<strong>受控组件</strong>。</p> <h4 id="受控组件"><a href="#受控组件" class="header-anchor">#</a> 受控组件</h4> <p>要做到双向数据绑定，没有像vue中那样的指令，需要自己手写。</p> <ol><li>文本框</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>state <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">txt</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;this.state.txt&quot;</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span>
	<span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">txt</span><span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
</code></pre></div><ol start="2"><li>下拉框</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>state <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">girl</span><span class="token operator">:</span> <span class="token string">'蜜莓'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token operator">&lt;</span>section value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>city<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">girl</span> <span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">'mm'</span><span class="token operator">&gt;</span>蜜莓<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">'st'</span><span class="token operator">&gt;</span>砂糖<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">'neko'</span><span class="token operator">&gt;</span>neko<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>section<span class="token operator">&gt;</span>
</code></pre></div><ol start="3"><li>复选框</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>state <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">is</span><span class="token operator">:</span> flase<span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;checkbox&quot;</span> checked<span class="token operator">=</span><span class="token string">&quot;this.state.is&quot;</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span>
	<span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">is</span><span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>checked<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
</code></pre></div><h4 id="事件处理程序的统一"><a href="#事件处理程序的统一" class="header-anchor">#</a> 事件处理程序的统一</h4> <ol><li>为表单元素增加name属性，属性名与绑定的state名称相同</li> <li>通过各种原生表达式，获得表达组件的值。</li> <li>在事件处理程序中通过修改name来state</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>state <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">txt</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token operator">&lt;</span>input 
	type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> 
	name<span class="token operator">=</span><span class="token string">'txt'</span>
	value<span class="token operator">=</span><span class="token string">&quot;this.state.txt&quot;</span> 
	onChange<span class="token operator">=</span><span class="token punctuation">{</span>
	<span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> value <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'checkbox'</span> 
		<span class="token operator">?</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>checked
		<span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span>

		<span class="token keyword">const</span> name <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>name<span class="token punctuation">;</span>

		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">:</span> value<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
</code></pre></div><h4 id="非受控组件"><a href="#非受控组件" class="header-anchor">#</a> 非受控组件</h4> <p>不推荐这种方式，react不希望我们来操作DOM。</p> <ol><li>在构造器中调用React.createRef创建<strong>ref对象</strong></li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>Ref <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>将创建好的ref对象添加到文本框中</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">'text'</span> ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>Ref<span class="token punctuation">}</span><span class="token operator">&gt;</span>
</code></pre></div><ol start="3"><li>通过ref获取文本框的值</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>Ref<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/articles/前端/React/React简单原理.html">
        React简单原理
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f97d11e0.js" defer></script><script src="/assets/js/2.c4a55d75.js" defer></script><script src="/assets/js/9.dc91dd0d.js" defer></script>
  </body>
</html>
